(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{k:()=>h});const t=document.getElementById("projectsContainer");function n(e,t){console.log("h"),this.name=e,console.log("he"),this.description=t}const o=e=>{for(let t=0;t<h.length;t+=1)if(h[t].name===e)return!0},s=e=>{const n=document.createElement("article");n.className="mt-3";const o=document.createElement("h3");o.className="";const s=document.createTextNode(e.name);if(o.appendChild(s),n.appendChild(o),0!=e.description){const t=document.createElement("p");t.className="description fst-italic";const o=document.createTextNode(e.description);t.appendChild(o),n.appendChild(t)}const l=document.createElement("button");l.className="delProjectBtn btn btn-light border-0 bg-secondary",l.innerHTML='<i class="delProjectBtn fas fa-times text-dark"></i>';const a=document.createElement("button");a.className="editProjectBtn btn btn-light border-0 bg-secondary",a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#exampleModal1"),a.innerHTML='<i class="editProjectBtn fas fa-align-right text-dark"></i>';const i=document.createElement("button");i.className="seeBtn btn btn-light border-0 bg-secondary",i.innerHTML='<i class="seeBtn fas fa-chevron-right text-dark">';const c=document.createElement("div");c.className="d-flex me-5 justify-content-around",c.appendChild(l),c.appendChild(a),c.appendChild(i),n.appendChild(c),t.appendChild(n)},l=()=>{h.forEach((e=>s(e)))};function a(e,t,n,o,s){this.title=e,this.projectsN=t,this.comment=n,this.priority=o,this.deadline=s,this.finished=!1}document.getElementById("toDos");const i=document.getElementById("first"),c=document.getElementById("taskForm");let r=!1,d=!1;const m=document.getElementById("addForm"),u=document.getElementById("nameInput"),p=document.getElementById("descriptionInput"),g=document.getElementById("first");let h=[];function f(){console.log("in setProjectssss"),window.localStorage.setItem("myProjects",JSON.stringify(h))}null!==localStorage.getItem("myProjects")&&(h=JSON.parse(window.localStorage.getItem("myProjects")));let y="",b=[];null!==localStorage.getItem("myTasks")&&(b=JSON.parse(window.localStorage.getItem("myTasks"))),document.addEventListener("DOMContentLoaded",l()),m.addEventListener("submit",(e=>{e.preventDefault();const t=m[0].value,l=m[1].value;let a=!0;if(t||(alert("Project's name can't be empty"),a=!1),o(t)&&(alert("Project with same name already exists"),a=!1),!a)return!1;console.log("heree");const i=new n(t,l);console.log(i),s(i),h.push(i),console.log("here",h),f()})),document.getElementById("projectsContainer").addEventListener("click",(e=>{e.preventDefault();const t=e.target;let s=t.closest("article").firstElementChild.textContent;if(t.classList.contains("delProjectBtn")&&(alert("No kidding?!"),t.closest("article").remove(),((e,t)=>{let n=[];for(let o=0;o<e.length;o+=1)e[o].name===t&&(n=e.splice(o,1))})(h,s),f()),t.classList.contains("editProjectBtn")){console.log("in edit");let e=h.find((e=>e.name==s));console.log(e),u.value=e.name,console.log(u),p.value=e.description,console.log(p.value),editForm.addEventListener("submit",(t=>{t.preventDefault();const s=new n(editForm[0].value,editForm[1].value);console.log(s);let a=!0;if(s.name==e.name&&s.description==e.description)return alert("You haven't change anything"),void(a=!1);const i=s.name;o(i)&&s.name!=e.name&&(alert("Project with same name already exists"),console.log("herre"),a=!1),a&&(e.name=s.name,e.description=s.description,f(),projectsContainer.innerHTML="",l())}))}t.classList.contains("seeBtn")&&(e=>{if(r)i.innerHTML="",r=!1,console.log(r);else{const t=document.createElement("div");t.className="p-3",t.innerHTML=`\n  <h2 class='prjct text-center'>Project: ${e}</h2>\n  <div class=" d-flex justify-content-center plus">\n    <h4 class="taskHeadline mt-1 me-5 mt-3 text-center">Your tasks</h4>\n    <button type="button" class="pb-2 text-dark btn btn-light plus">\n      <i class="fas fa-plus plus"></i>\n    </button>\n  </div>\n\n  `,i.appendChild(t),r=!0,console.log(r)}})(s),y=s})),g.addEventListener("click",(e=>{e.preventDefault();const t=e.target;console.log("here"),t.classList.contains("plus")&&(console.log("here"),d?(c.innerHTML="",d=!1,console.log(d)):(c.innerHTML="\n    <input type='text' class=' my-2' name='taskName' id='task-name' placeholder='Add title here'>\n    <textarea  id='comment' class='my-2' rows='3' maxlength='150' placeholder='Add comment here'></textarea>\n    <select class='form-select me-4' id='selectPriority' aria-label='Default select example'>\n            <option selected value='1'>Select priority level</option>\n            <option id='one' value='1'>&#xf024; Priority 1</option>\n            <option id='two' value='2'>&#xf024; Priority 2</option>\n            <option id='three' value='3'>&#xf024; Priority 3</option>\n            <option id='four' value='4'>&#xf024; Priority 4</option>\n    </select>\n    <input type=\"date\" max='2110-13-13' id='datePicker'>\n    <button type='submit' class='btn btn-secondary' id='confirmTask'>Create task</button>\n    <button type='button' class='btn btn-light m-3' id='dismissTask'>Dismiss</button>\n  ",document.getElementById("datePicker").setAttribute("min",(()=>{let e=new Date,t=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return t<10&&(t="0"+t),n<10&&(n="0"+n),e=o+"-"+n+"-"+t,e})()),d=!0,console.log(d)))})),document.getElementById("taskForm").addEventListener("submit",(e=>{e.preventDefault();const t=e.target,n=t[0].value,o=t[1].value,s=t[2].value,l=t[3].value;if(confirm=!0,!n)return alert("Title must not be empty"),void(confirm=!1);if(confirm=!1)return;const i=new a(n,y,o,s,l);console.log(i),b.push(i),console.log(b),console.log("in setTasks"),window.localStorage.setItem("myTasks",JSON.stringify(b))}))})();